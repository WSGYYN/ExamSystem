@{
    ViewBag.Title = "PaperIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">
                试卷表
            </header>
            <table class="table table-striped border-top" id="sample_1">
                <thead>
                    <tr>
                        <th hidden class="hidden-phone">试卷编号</th>
                        <th class="hidden-phone">试卷名称</th>
                        <th>试卷说明</th>
                        <th class="hidden-phone">试卷时长</th>
                        <th class="hidden-phone">操作</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model as IList<ExamSystem.Models.Paper>)
                    {
                        <tr class="odd gradeX">

                            <td hidden class="center hidden-phone">@item.PaperID</td>
                            <td class="center hidden-phone">@item.PaperName</td>
                            <td class="center hidden-phone">@item.PaperExplain</td>
                            <td class="center">@item.PaperTime</td>
                            <td>
                                <button class="btn btn-success btn-xs" data-toggle="tooltip" data-placement="top" title="查看考题" onclick="redirectToDetails('@item.PaperID')">
                                    <i class="fa fa-eye"></i>
                                </button>
 
                                <button class="btn btn-success btn-xs" data-toggle="tooltip" data-placement="top" title="编辑" onclick="redirectToEdit('@item.PaperID')">
                                    <i class="fa fa-pencil"></i>
                                </button>
                                <button class="btn btn-danger btn-xs" data-toggle="tooltip" data-placement="top" title="删除" onclick="redirectToDelete('@item.PaperID', '@item.PaperName')">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </section>
    </div>
</div>
<script>
    function redirectToDetails(PaperID) {
        window.location.href = '/Topic/TopicIndex?id=' + encodeURIComponent(PaperID);
    }
    function redirectToEdit(PaperID) {
        window.location.href = '/Paper/EditPaper?id=' + encodeURIComponent(PaperID);
    }
    function redirectToDelete(paperId, paperName) {
        var confirmation = confirm("你确认要删除名称为：" + paperName + "的试卷吗？")
        if (confirmation) {
            setTimeout(function () {
                window.location.href = '/Paper/DeletePaper?id=' + encodeURIComponent(paperId);
            })
        }
    }
</script>

<!-- js placed at the end of the document so the pages load faster -->
<script src="~/Content/js/jquery.js"></script>
<script src="~/Content/js/bootstrap.min.js"></script>
<script src="~/Content/js/jquery.scrollTo.min.js"></script>
<script src="~/Content/js/jquery.nicescroll.js" type="text/javascript"></script>
<script type="text/javascript" src="~/Content/assets/data-tables/jquery.dataTables.js"></script>
<script type="text/javascript" src="~/Content/assets/data-tables/DT_bootstrap.js"></script>
<!--common script for all pages-->
<script src="~/Content/js/common-scripts.js"></script>
<!--script for this page only-->
<script src="~/Content/js/dynamic-table.js"></script>

